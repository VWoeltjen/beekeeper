<html>
<head>
</head>
<body>
    <script>
        var options = {
            contract: "0x4d8fc1453a0f359e99c9675954e656d80d996fbf"
        };

        window.addEventListener('load', function() {
            fetch(new Request('bee.json')).then(function (response) {
                response.json().then(function (abi) {
                    var token = web3.eth.contract(abi).at(options.contract);
                    token.name(function (err, value) {
                        console.log(value);
                    });
                    console.log("Starting at " + Date.now());
                    web3.eth.filter({
                        fromBlock: 0,
                        toBlock: 'latest',
                        address: options.contract,
                        topics: [web3.sha3('Transfer(address,address,uint256)')]
                    }).get(function (err, events) {
                        console.log(events);
                        console.log("Finished at " + Date.now());
                    });
                    console.log(token);
                });
            });
        });
    </script>
</body>
</html>